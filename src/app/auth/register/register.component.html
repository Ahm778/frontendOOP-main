<div class="auth-container">
  <div class="logo-container">
    <div class="company-logo">
      <span class="logo-text">Green</span>
      <span class="logo-text accent">Building</span>
      <div class="logo-underline"></div>
    </div>
  </div>

  <div class="auth-header">
    <h2><strong>Create Your Account</strong></h2>
    <p class="auth-subtitle">Please enter your details to join our platform</p>
    <div class="auth-divider">
      <span class="divider-line"></span>
      <span class="divider-line"></span>
    </div>
  </div>

  <form [formGroup]="signUpForm" (ngSubmit)="signUp()" class="auth-form">
    <!-- Stepper -->
    <p-stepper [value]="1" class="custom-stepper">
      <p-step-list>
        <p-step [value]="1">Account Info</p-step>
        <p-step [value]="2">Profile Details</p-step>
      </p-step-list>
      <p-step-panels>
        <p-step-panel [value]="1">
          <ng-template #content let-activateCallback="activateCallback">
            <!-- Email -->
            <div class="form-group floating-input">
              <input pInputText 
                     id="email" 
                     type="email" 
                     formControlName="email" 
                     placeholder=" " 
                     class="custom-input"/>
              <label for="email">Email Address</label>
              <i class="input-icon pi pi-envelope"></i>
            </div>

            <!-- Password -->
            <div class="form-group floating-input">
              <input id="password" 
                     formControlName="password" 
                     pInputText
                     type="password"
                     placeholder=" "
                     class="custom-input"/>
              <label for="password">Password</label>
              <i class="input-icon pi pi-lock"></i>
              <small class="password-hint">Use at least 6 characters with numbers and letters</small>
            </div>

            <!-- Confirm Password -->
            <div class="form-group floating-input">
              <input id="confirmPassword" 
                     formControlName="confirmPassword" 
                     pInputText
                     type="password"
                     placeholder=" "
                     class="custom-input">
              <label for="confirmPassword">Confirm Password</label>
              <i class="input-icon pi pi-lock"></i>
            </div>

            <!-- Next Button -->
            <button type="button" class="green-button" (click)="activateCallback(2)">
              <span class="button-content">
                Continue
                <i class="pi pi-arrow-right"></i>
              </span>
              <span class="button-background"></span>
            </button>
          </ng-template>
        </p-step-panel>

        <p-step-panel [value]="2">
          <ng-template #content let-activateCallback="activateCallback">
            <!-- Profile Image Upload -->
            <div class="file-upload">
              <!-- Contenu de l'upload -->
            </div>

            <!-- Username -->
            <div class="form-group floating-input">
              <input pInputText 
                     id="username" 
                     type="text" 
                     formControlName="username" 
                     placeholder=" " 
                     class="custom-input"/>
              <label for="username">Username</label>
              <i class="input-icon pi pi-user"></i>
            </div>

            <!-- Role Dropdown -->
            <div class="form-group floating-input">
              <p-dropdown [options]="roles" 
                          optionLabel="name" 
                          formControlName="role" 
                          class="custom-dropdown">
              </p-dropdown>
              <label class="dropdown-label">Role</label>
              <i class="input-icon pi pi-briefcase"></i>
            </div>

            <!-- Phone Number -->
            <div class="form-group floating-input">
              <input pInputText 
                     id="phoneNumber" 
                     type="tel" 
                     formControlName="phoneNumber" 
                     placeholder=" " 
                     class="custom-input"/>
              <label for="phoneNumber">Phone Number</label>
              <i class="input-icon pi pi-phone"></i>
            </div>

            <!-- Gender -->
            <div class="form-group floating-input">
              <p-dropdown [options]="gender"
                         formControlName="gender" 
                         class="custom-dropdown">
              </p-dropdown>
              <label class="dropdown-label">Gender</label>
              <i class="input-icon pi pi-users"></i>
            </div>

            <!-- Buttons -->
            <div class="button-group">
              <button type="button" class="outline-button" (click)="activateCallback(1)">
                <span class="button-content">
                  <i class="pi pi-arrow-left"></i>
                  Previous
                </span>
              </button>
              <button type="submit" class="green-button" [disabled]="loading">
                <span class="button-content">
                  {{ loading ? 'Creating Account' : 'Sign Up' }}
                  <span *ngIf="loading" class="loading-dots">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                  </span>
                  <i *ngIf="!loading" class="pi pi-arrow-right"></i>
                </span>
                <span class="button-background"></span>
              </button>
            </div>
          </ng-template>
        </p-step-panel>
      </p-step-panels>
    </p-stepper>

    <div class="login-link">
      Already have an account? 
      <strong (click)="goToLogIn()">Log In</strong>
      <i class="pi pi-arrow-up-right external-link"></i>
    </div>
  </form>

  <div class="security-badge">
    <i class="pi pi-shield"></i>
    <span>256-bit SSL Encryption</span>
  </div>
</div>

<p-toast></p-toast>